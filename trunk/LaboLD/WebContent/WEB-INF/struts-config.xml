<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>

	<form-beans>
		<form-bean name="loginForm" 
			type="ar.com.labold.struts.actions.forms.LoginForm">
		</form-bean>	
		<form-bean name="usuarioForm"
			type="ar.com.labold.struts.actions.forms.UsuarioForm">
		</form-bean>
		<form-bean name="pacienteForm"
			type="ar.com.labold.struts.actions.forms.PacienteForm">
		</form-bean>
		<form-bean name="obraSocialForm"
			type="ar.com.labold.struts.actions.forms.ObraSocialForm">
		</form-bean>								
	</form-beans>

	<global-exceptions></global-exceptions>

	<global-forwards>
		<forward name="error" path=".error"></forward>
		<forward name="bloqueError" path="/jsp/error.jsp"></forward>
	</global-forwards>

	<action-mappings>
	
		<!-- JSP -->
		<action path="/jsp" type="ar.com.labold.struts.actions.TilesForwardAction">
			<forward name=".index" path=".index" />		
			<forward name=".altaObraSocial" path=".altaObraSocial" />
		</action>	
	
		<!-- MENU -->
		<action path="/menu" type="ar.com.labold.struts.actions.MenuAction"
			parameter="metodo" />	
	
		<!-- LOGIN -->
		<action path="/login" type="ar.com.labold.struts.actions.LoginAction"
			parameter="metodo" name="loginForm" scope="session">
			<forward name="exitoLogin" path=".index" />
			<forward name="errorLogin" path="/jsp/login.jsp" />
			<forward name="exitoLogout" path="/jsp/login.jsp" />
		</action>
		<!-- FIN LOGIN -->
				
		<!-- USUARIO -->
		<action path="/usuario" type="ar.com.labold.struts.actions.UsuarioAction"
			parameter="metodo" name="usuarioForm" scope="request">
			<forward name="cargarAltaUsuario" path=".altaUsuario" />
			<forward name="exitoAltaUsuario" path="/usuario.do?metodo=cargarAltaUsuario" />
			<forward name="exitoCargarUsuarioAModificar" path="/jsp/bloqueAltaUsuario.jsp" />
			<forward name="errorAltaUsuario" path="/usuario.do?metodo=cargarAltaUsuario" />
			<forward name="exitoModificacionUsuario"
				path="/cargarUsuariosAModificar.do?metodo=cargarUsuariosAModificar" />
		</action>

		<action path="/cargarUsuariosAModificar" type="ar.com.labold.struts.actions.UsuarioAction"
			parameter="metodo">
			<forward name="exitoRecuperarUsuarios" path=".recuperarUsuarios" />
			<forward name="exitoCargarUsuarioAModificar" path=".altaUsuario" />
		</action>
		<!-- FIN USUARIO -->				
				
		<!-- PACIENTE -->
		<action path="/paciente" type="ar.com.labold.struts.actions.PacienteAction"
			parameter="metodo" name="pacienteForm" scope="request">
			<forward name="exitoCargaAltaPaciente" path=".altaPaciente" />
			<forward name="exitoAltaPaciente" path="/paciente.do?metodo=cargarAltaPaciente" />
		</action>				
		<!-- FIN PACIENTE -->

		<!-- OBRA SOCIAL -->
		<action path="/obraSocial" type="ar.com.labold.struts.actions.ObraSocialAction"
			parameter="metodo" name="obraSocialForm" scope="request">
			<forward name="exitoAltaObraSocial" path="/jsp.do?page=.altaObraSocial" />
		</action>				
		<!-- FIN OBRA SOCIAL -->				
		
				
	</action-mappings>

	<message-resources parameter="ar.com.labold.struts.resources.application" />

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
		<set-property property="moduleAware" value="true" />
	</plug-in>

</struts-config>
