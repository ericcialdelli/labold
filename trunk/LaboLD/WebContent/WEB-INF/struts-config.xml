<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>

	<form-beans>
		<form-bean name="loginForm" 
			type="ar.com.labold.struts.actions.forms.LoginForm">
		</form-bean>	
		<form-bean name="usuarioForm"
			type="ar.com.labold.struts.actions.forms.UsuarioForm">
		</form-bean>
		<form-bean name="pacienteForm"
			type="ar.com.labold.struts.actions.forms.PacienteForm">
		</form-bean>
		<form-bean name="obraSocialForm"
			type="ar.com.labold.struts.actions.forms.ObraSocialForm">
		</form-bean>
		<form-bean name="practicaForm"
			type="ar.com.labold.struts.actions.forms.PracticaForm">
		</form-bean>
		<form-bean name="estudioForm"
			type="ar.com.labold.struts.actions.forms.EstudioForm">
		</form-bean>												
	</form-beans>

	<global-exceptions></global-exceptions>

	<global-forwards>
		<forward name="error" path=".error"></forward>
		<forward name="bloqueError" path="/jsp/error.jsp"></forward>
	</global-forwards>

	<action-mappings>
	
		<!-- JSP -->
		<action path="/jsp" type="ar.com.labold.struts.actions.TilesForwardAction">
			<forward name=".index" path=".index" />		
			<forward name=".altaObraSocial" path=".altaObraSocial" />
			<forward name=".altaPractica" path=".altaPractica" />
			<forward name=".reporteEstudiosARealizarEntreFechas" path=".reporteEstudiosEntreFechas" />
		</action>	
	
		<!-- MENU -->
		<action path="/menu" type="ar.com.labold.struts.actions.MenuAction"
			parameter="metodo" />	
	
		<!-- LOGIN -->
		<action path="/login" type="ar.com.labold.struts.actions.LoginAction"
			parameter="metodo" name="loginForm" scope="session">
			<forward name="exitoLogin" path=".index" />
			<forward name="errorLogin" path="/jsp/login.jsp" />
			<forward name="exitoLogout" path="/jsp/login.jsp" />
		</action>
		<!-- FIN LOGIN -->
				
		<!-- USUARIO -->
		<action path="/usuario" type="ar.com.labold.struts.actions.UsuarioAction"
			parameter="metodo" name="usuarioForm" scope="request">
			<forward name="cargarAltaUsuario" path=".altaUsuario" />
			<forward name="exitoAltaUsuario" path="/usuario.do?metodo=cargarAltaUsuario" />
			<forward name="exitoCargarUsuarioAModificar" path="/jsp/bloqueAltaUsuario.jsp" />
			<forward name="errorAltaUsuario" path="/usuario.do?metodo=cargarAltaUsuario" />
			<forward name="exitoModificacionUsuario"
				path="/cargarUsuariosAModificar.do?metodo=cargarUsuariosAModificar" />
		</action>

		<action path="/cargarUsuariosAModificar" type="ar.com.labold.struts.actions.UsuarioAction"
			parameter="metodo">
			<forward name="exitoRecuperarUsuarios" path=".recuperarUsuarios" />
			<forward name="exitoCargarUsuarioAModificar" path=".altaUsuario" />
		</action>
		<!-- FIN USUARIO -->				
				
		<!-- PACIENTE -->
		<action path="/paciente" type="ar.com.labold.struts.actions.PacienteAction"
			parameter="metodo" name="pacienteForm" scope="request">
			<forward name="exitoCargaAltaPaciente" path=".altaPaciente" />
			<forward name="exitoAltaPaciente" path="/paciente.do?metodo=cargarAltaPaciente" />
			<forward name="exitoRecuperarPacientes" path=".recuperarPacientes" />
			<forward name="exitoRecuperarPaciente" path=".modificarPaciente" />
			<forward name="exitoModificacionPaciente" path="/paciente.do?metodo=recuperarPacientes" />					
		</action>				
		<!-- FIN PACIENTE -->

		<!-- OBRA SOCIAL -->
		<action path="/obraSocial" type="ar.com.labold.struts.actions.ObraSocialAction"
			parameter="metodo" name="obraSocialForm" scope="request">
			<forward name="exitoAltaObraSocial" path="/jsp.do?page=.altaObraSocial" />
			<forward name="exitoRecuperarObrasSociales" path=".recuperarObrasSociales" />
			<forward name="exitoRecuperarObraSocial" path=".modificarObraSocial" />
			<forward name="exitoModificacionObraSocial" path="/obraSocial.do?metodo=recuperarObrasSociales" />										
		</action>				
		<!-- FIN OBRA SOCIAL -->				
		
		<!-- PRACTICA -->
		<action path="/practica" type="ar.com.labold.struts.actions.PracticaAction"
			parameter="metodo" name="practicaForm" scope="request">
			<forward name="exitoAltaPractica" path="/jsp.do?page=.altaPractica" />
			<forward name="exitoRecuperarPracticas" path=".recuperarPracticas" />
			<forward name="exitoRecuperarPractica" path=".modificarPractica" />
			<forward name="exitoModificacionPractica" path="/practica.do?metodo=recuperarPracticas" />																	
		</action>				
		<!-- FIN PRACTICA -->

		<!-- ESTUDIO -->
		<action path="/estudio" type="ar.com.labold.struts.actions.EstudioAction"
			parameter="metodo" name="estudioForm" scope="request">
			<forward name="exitoCargaAltaEstudio" path=".altaEstudio" />
			<forward name="exitoAltaEstudio" path="/estudio.do?metodo=cargarAltaEstudio" />
			
			<forward name="exitoCargarRecuperarEstudios" path=".recuperarEstudiosParaModificacion" />
			<forward name="exitoRecuperarEstudios" path="/jsp/bloqueRecuperarEstudios.jsp" />
			<forward name="exitoRecuperarEstudio" path=".modificarEstudio" />
			<forward name="exitoModificacionEstudio" path="/estudio.do?metodo=recuperarEstudios" />								
		</action>				
		<!-- FIN ESTUDIO -->

		<!-- REPORTE -->
		<action path="/reporte" type="ar.com.labold.struts.actions.ReportesAction"
			parameter="metodo" scope="request">											
		</action>				
		<!-- FIN REPORTE -->
								
	</action-mappings>

	<message-resources parameter="ar.com.labold.struts.resources.application" />

	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
		<set-property property="moduleAware" value="true" />
	</plug-in>

</struts-config>
